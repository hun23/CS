# 개요
- 운영체제는 컴퓨터 하드웨어 바로 위에 설치되는 소프트웨어 계층
- 사용자 및 다른 모든 소프트웨어와 하드웨어를 연결하는 소프트웨어 계층
- 사용자:
  - 컴퓨터 시스템을 편리하게 사용
- 시스템:
  - 컴퓨터 시스템의 자원을 효율적으로 관리
  - CPU, 메모리, I/O장치 등

## 컴퓨터 시스템의 구조
- 컴퓨터 내부:
  - CPU, MEMORY
- 컴퓨터 외부:
  - 디스크, 키보드, 마우스, 프린터, 모니터 등등

## 부팅
- 부팅 == 운영체제가 메모리에 올라가서 실행되는 것
  - 종료될 때 까지 계속 실행
  - 핵심: 커널, 언제나 메모리에 상주
- 외부장치에서 정보를 읽을 때는 각 기기의 컨트롤러에 정보를 요청
  - 외부장치는 이를 메모리로 옮김
- 따라서 운영체제의 핵심 역할 중 하나는 ***CPU 스케줄링***
  - 어떤 프로그램에게 CPU사용권을 할당하는 것

- 메모리 관리
  - 한정된 메모리를 분할하여 사용하기

- 디스크 스케줄링
  - 디스크에 들어온 요청을 어떤 순서로 처리할 지

- 인터럽트, 캐싱
  - 빠른 CPU와 느린 I/O 장치간 속도차이를 극복하는 방법
  - 캐싱: 불러온 데이터를 메모리에 저장해놓고 다시 사용하는 방법
  - 인터럽트: I/O에서 정보를 받은 경우 인터럽트를 걸어서 이를 CPU에서 인지
    - 이후 해당 작업 계속 수행
    - 장치가 CPU에게 연락하는 방법
    - 인터럽트가 걸리면 프로그램 실행 중 바로 운영체제로 CPU가 넘어감

## 프로세스
- 실행중인 프로그램

## CPU 스케줄링
- FCFS(FIRST-COME FIRST-SERVED)
  - 상황에 따라효율적이지 않음, AVERAGE WAITING TIME이 높다
- SJF(SHORTEST JOB FIRST)
  - CPU 사용시간이 가장 짧은 프로세스를 먼저 스케줄링
  - MINIMUM AVERAGE WAITING TIME을 보장
  - STARVATION(기아 현상) 발생 가능: 형평성 문제
    - 실행시간이 긴 프로그램은 무한히 기다려야 할 가능성 존재
- RR(ROUND ROBIN)
  - 현재 가장 많이 사용되는 방법
  - 각 프로세스는 동일 크기의 CPU 할당시간을 가짐
  - 할당시간이 끝나면 인터럽트 발생, 현재 프로세스를 CPU 큐의 제일 뒤로 배치
  - n개의 프로세스가 CPU 큐에 있는 경우
    - 어떤 프로세스도 (n - 1) * 할당시간 이상 기다리지 않음
    - 대기시간이 프로세스의 CPU 사용시간에 비례

## 메모리 관리
- 부팅시 운영체제가 메모리에 올라감
- 이후 프로그램 실행 시
  - 가상메모리에 프로그램에 필요한 요소를 배치
  - 물리적 메모리에 당장 필요한 요소만을 할당
    - 남은 가상메모리는 디스크의 스왑영역에 배치된다
    - 물리 메모리가 가득 찬 경우에도 마찬가지
- 메모리의 부분을 '페이지'라고 부른다
- 가상메모리에서 물리적 메모리로, 혹은 반대로 배치될 페이지를 선택하는 방법?
  - CPU가 요청한 페이지 순서에 따라 디스크에서 메모리로 배치
  - 반대는?
    - 메모리 관리란 미래에 많이 사용될 데이터는 메모리에 남기고, 그렇지 않은 데이터는 스왑 영역으로 배치하는 것
    - LRU vs LFU
    - LRU: 가장 오래 전에 참조된 페이지를 삭제
      - 단점: 최근 참조한 페이지라고 해도 계속 참조할 것이라는 보장이 없음
    - LFU: 참조횟수가 가장 적은 페이지를 삭제
      - 단점: 시간에 따라 변하는 프로그램 참조 횟수를 반영하지 못함

## 디스크 스케줄링
- 디스크 접근 시간의 구성
  - 탐색시간: 헤드를 해당 트랙(실린더)으로 움직이는데 걸리는 시간
  - 회전지연: 헤드가 원하는 섹터에 도달하기까지 걸리는 시간
  - 전송시간: 실제 데이터의 전송시간
- 탐색시간이 접근 시간의 대부분을 차지, 회전지연이 그 다음
  - 디스크 스케줄링은 SEEK TIME을 최소화하는 것이 목표
- FCFS
  - 비효율적
- SSTF(SHORTEST SEEK TIME FIRST):
  - 최단거리로 이동 but starvation 문제 발생
- SCAN
  - 요즘방법
  - 헤드가 디스크의 한쪽 끝에서 다른쪽 끝으로 이동하며 가는 길목에 있는 모든 요청 처리

## 저장장치 계층구조와 캐싱(Caching)
- Caching: copying information into faster storage system
- CPU -> Registers - Cache Memory - Main memory 순으로 속도 빠름, 용량 적음
